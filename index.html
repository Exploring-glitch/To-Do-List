<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script> 
    
    <title>Todo list</title>
</head>


<body class="bg-gray-800 flex justify-center items-center min-h-screen">
    <div class="bg-gray-100 border-2 border-black m-4 rounded-lg shadow-lg w-full max-w-lg">
        
        <h1 class="text-2xl font-semibold text-center underline my-2">TO-DO LIST</h1>

        <div id="newdivhere" class="mx-1 md:mx-10 space-y-3 text-sm md:text-lg"></div>

        <div class="flex mx-1 gap-1 md:gap-2 md:mx-10 my-5">
            <input type="text" placeholder="Add a new task.." class="bg-white border-2 border-gray-600 text-black hover:border-2 hover:border-gray-700 rounded-sm md:pl-2 shadow-sm">
            <button class="bg-gray-600 text-white pr-2 pl-2 rounded-sm hover:bg-gray-700 shadow-sm hover:scale-105 font-medium" onclick="clickfunc()">Add Task</button> 
        </div>
    </div>  
</body>



<script>
    let todos=[];
    function capitalize(str){
        return str.charAt(0).toUpperCase() + str.slice(1);
    }
    function clickfunc(){
        let inputtext= document.querySelector("input").value.trim();
        todos.push({
            title: capitalize(inputtext)
        })
        document.querySelector("input").value="";
        render();
    }
    function delefunc(index){
        console.log("Delete button clicked");
        todos.splice(index,1);
        render();
    }
    function editfunc(index){
        let newtitle = prompt("Heyy user! Edit your task here:", todos[index].title);
        if (newtitle!== null && newtitle.trim()!== ""){
            todos[index].title = newtitle;
            render();
        }
    }


    function todocomponent(a,index){
        const newhead= document.createElement("h1");
        const neweditbtn= document.createElement("button");
        const newdelbtn= document.createElement("button");
        const newele= document.createElement("div");

        newhead.innerHTML= "â€¢"+ " "+ a.title;
        neweditbtn.innerHTML="Edit";
        newdelbtn.innerHTML="Delete";

        newhead.classList.add("text-lg","font-medium","text-gray-700");

        neweditbtn.onclick = function(){
            editfunc(index);
        }
        neweditbtn.classList.add("text-white","bg-blue-500","hover:bg-blue-600", "hover:text-black","py-1","px-3", "rounded-md","shadow-sm","mr-3","font-medium","focus:outline-none","hover:scale-105");

        newdelbtn.onclick = function(){
            delefunc(index);
        }
        newdelbtn.classList.add("text-white","bg-red-500","hover:bg-red-600", "hover:text-black","py-1","px-3", "rounded-md","shadow-sm","mr-3","font-medium","focus:outline-none","hover:scale-105");
        
        newele.appendChild(newhead);
        newele.appendChild(neweditbtn);
        newele.appendChild(newdelbtn);
        
        return newele;
    }

    function render(){
        document.querySelector("#newdivhere").innerHTML="";
        for(let i=0; i<todos.length;i++){
            console.log(todos[i]);
            document.querySelector("#newdivhere").appendChild(todocomponent(todos[i],i))
        }  
    }
</script>
</html>